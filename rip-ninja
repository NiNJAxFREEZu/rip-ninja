#!/bin/bash

# Function declarations
print_help () {
	echo 'USAGE: rip-ninja [name-of-the-album]'
}

if [ "$1" == "-h" ] || [ "$1" == "--help" ] 
then
	print_help
	exit 0
fi

if [ -z "$1" ]
then
	echo "Please give the name of the album."
	print_help
	exit 1
fi

if [ -n "$2" ]
then
	echo "Too many arguments."
	print_help
	exit 1
fi

# Creating file directories
mkdir ~/Music
mkdir ~/Music/wav/$1
mkdir ~/Music/mp3/$1

# Ripping cd into wave files
cd ~/Music/wav/$1
cdparanoia -B

# Converting ripped wave files into mp3
for track in *;
do
	lame -b 320 $track --out-dir ~/Music/mp3/$1
done
